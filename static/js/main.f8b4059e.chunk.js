(this["webpackJsonpf1-predict-web"]=this["webpackJsonpf1-predict-web"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(5),o=a.n(i),c=(a(17),a(1)),s=a(2),l=a(4),d=a(3),u=a(10),p=(a(18),a(19),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t="driver-list-row";return this.props.selected&&(t+=" selected"),n.a.createElement("tr",{className:t,onClick:function(){return e.props.onClick(e.props.id)}},n.a.createElement("td",{className:"driver-list-cell"},n.a.createElement("svg",{width:"8",height:"16",style:{fill:this.props.color}},n.a.createElement("rect",{width:"7",height:"20"})),n.a.createElement("span",null,this.props.driver)),n.a.createElement("td",{className:"driver-list-cell"},this.props.constructor))}}]),a}(n.a.Component)),h=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).rowClicked=function(e){r.setState({selected:e}),r.props.rowClicked(e),r.state.isMobile&&r.setState({expanded:!r.state.expanded})},r.state={selected:-1,isMobile:!1},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.matchMedia("(max-width: 768px)").matches&&this.setState({isMobile:!0,expanded:!0})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{display:"flex",width:"100%","min-width":"300px"}},n.a.createElement("table",{className:"driver-list-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Driver"),n.a.createElement("th",null,"Constructor"))),n.a.createElement("tbody",null,this.props.order.map((function(t){return e.state.isMobile&&!e.state.expanded&&e.state.selected!==t?null:n.a.createElement(p,{key:t,id:t,selected:e.state.selected===t,driver:e.props.drivers[t.toString()].name,constructor:e.props.drivers[t.toString()].constructor,color:e.props.drivers[t.toString()].color,onClick:e.rowClicked})})))))}}]),a}(n.a.Component),v=a(11),m=(a(20),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return console.log(this.props.value),n.a.createElement("div",{className:"barGraphTooltip",style:{backgroundColor:this.props.color}},this.props.label)}}]),a}(n.a.Component)),b=(a(21),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return console.log(this.props.value),n.a.createElement("div",{className:"barGraphRowContainer"},n.a.createElement("div",{className:"barGraphLabel"},this.props.label),n.a.createElement("div",{className:"barGraphBar",style:{width:this.props.value,backgroundColor:this.props.color}}),"0%"!==this.props.value?n.a.createElement(m,{color:this.props.color,label:this.props.value}):null)}}]),a}(n.a.Component)),f=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=Object(v.a)(Array(20).keys());return n.a.createElement("div",{className:"barChart"},t.map((function(t){var a=e.props.predictions?e.props.predictions[t.toString()]:null,r=e.props.year>=2020?a/100:a/10,i=r?"".concat(r,"%"):"0%";return n.a.createElement(b,{value:i,label:t+1,color:e.props.color?e.props.color:"#00000000"})})))}}]),a}(n.a.Component),E=(a(22),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).handleDriverSelection=function(e){console.log(e),r.setState({selectedDriverId:e})},r.onToggleQualiOptionsSelected=function(){r.setState({changeQualiExpanded:!r.state.changeQualiExpanded})},r.onNewQualiSelected=function(e){console.log(e),fetch("".concat("/F1PredictWeb","/data/").concat(e.value,".json")).then((function(e){return e.json()})).then((function(e){r.setState({drivers:e.drivers,order:e.order,predictions:e.predictions,gpTitle:"".concat(e.year," ").concat(e.name),year:e.year})}))},r.state={drivers:{},order:[],predictions:{},selectedDriverId:null,gpTitle:"",racesList:{},changeQualiExpanded:!1,year:null};var n="".concat("/F1PredictWeb","/data/index.json"),i=void 0,o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return fetch(n).then((function(e){return e.json()})).then((function(e){var t=Object.keys(e).sort(o.compare);console.log("Above loop"+t);for(var a=[],n=function(r){var n=Object.keys(e[t[r]]).sort(o.compare);n.map((function(n){return a.push({value:n,label:"".concat(t[r]," ").concat(e[t[r]][n])})})),console.log(n),console.log("In loop"),i=n[n.length-1]},c=0;c<t.length;c++)n(c);a.reverse(),r.setState({racesList:a}),fetch("".concat("/F1PredictWeb","/data/").concat(i,".json")).then((function(e){return e.json()})).then((function(e){r.setState({drivers:e.drivers,order:e.order,predictions:e.predictions,gpTitle:"".concat(e.year," ").concat(e.name),year:e.year})}))})),r}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.selectedDriverId?this.state.predictions[this.state.selectedDriverId]:{},t=this.state.selectedDriverId?this.state.drivers[this.state.selectedDriverId].color:null;return n.a.createElement("div",null,n.a.createElement("div",{className:"qualiHeader"},n.a.createElement("span",{className:"qualiHeaderText"},this.state.gpTitle," - Qualifying predictions"),n.a.createElement("button",{onClick:this.onToggleQualiOptionsSelected,className:"toggleQualiOptionsButton"},this.state.changeQualiExpanded?"Cancel":"Change GP"),this.state.changeQualiExpanded?n.a.createElement("div",null,n.a.createElement(u.a,{className:"qualiOptionsSelect",value:this.state.gpTitle,options:this.state.racesList,onChange:this.onNewQualiSelected})):null),n.a.createElement("div",{className:"mainContainer"},n.a.createElement(h,{rowClicked:this.handleDriverSelection,drivers:this.state.drivers,order:this.state.order}),n.a.createElement("div",{style:{"min-width":"300px",width:"100%"}},this.state.selectedDriverId?n.a.createElement("div",{className:"selectedDriverText",style:{color:this.state.drivers[this.state.selectedDriverId].color}},this.state.drivers[this.state.selectedDriverId].name):n.a.createElement("div",{className:"selectedDriverText",style:{color:"#888888"}},"Choose your driver:"),n.a.createElement(f,{predictions:e,color:t,selectedDriverId:this.state.selectedDriverId,year:this.state.year}))))}}]),a}(n.a.Component));var g=function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"pageHeader"},n.a.createElement("h1",{id:"gpNameHeader"},"F1 Qualification predictions")),n.a.createElement("div",{id:"background"},n.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.f8b4059e.chunk.js.map